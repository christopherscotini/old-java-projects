<?xml version='1.0' encoding='ISO-8859-1' ?>
<ui:composition template="/template/template_main.xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	<ui:define name="body_content">
	
		<h1 class="titulo">
			<img src="#{facesContext.externalContext.requestContextPath}/resources/images/icon-historico.png" />
			Dashboard das Finanças
		</h1>

		<p:messages closable="true" />
	
		<h:form id="formGlobal" styleClass="content">
			
			<fieldset>
				<legend>Resumo</legend>	
				<hr />
				<h:panelGrid columns="3" style="width:40% !important"> 
					<h:panelGroup>
						Saldo Atual: <br />
						<h:outputText value="R$ " />
						<h:outputText id="valorSaldoAtual" value="#{financasBean.saldoFinanceiro}" styleClass="rowCollunmInputData" >
							<f:converter converterId="decimalConverter" />
						</h:outputText>
					</h:panelGroup>
					<h:panelGroup></h:panelGroup>
					<h:panelGroup></h:panelGroup>
					<h:panelGroup>
						Gasto com transferencias: <br />
						<h:outputText value="R$ " />
						<h:outputText id="valorGastoTotalTransferencias" value="#{financasBean.gastoTotalTransferencias}" styleClass="rowCollunmInputData" >
							<f:converter converterId="decimalConverter" />
						</h:outputText>
					</h:panelGroup>
					<h:panelGroup>
						Ganhos com transferencias: <br />
						<h:outputText value="R$ " />
						<h:outputText id="valorGanhoTotalTransferencias" value="#{financasBean.ganhoTotalTransferencias}" styleClass="rowCollunmInputData" >
							<f:converter converterId="decimalConverter" />
						</h:outputText>
					</h:panelGroup>						
					<h:panelGroup>
						Lucro com transferencias: <br />
						<h:outputText value="R$ " />
						<h:outputText id="valorLucroTotalTransferencias" value="#{financasBean.lucroTotalTransferencias}" styleClass="rowCollunmInputData" >
							<f:converter converterId="decimalConverter" />
						</h:outputText>
					</h:panelGroup>						
					
					<h:panelGroup>
						Ganhos com Partidas: <br />
						<h:outputText value="R$ " />
						<h:outputText id="valorGanhoTotalPartidas" value="#{financasBean.ganhoTotalPartidas}" styleClass="rowCollunmInputData" >
							<f:converter converterId="decimalConverter" />
						</h:outputText>
					</h:panelGroup>						
					<h:panelGroup>
						Ganhos com Premiações/Torneios: <br />
						<h:outputText value="R$ " />
						<h:outputText id="valorGanhoTotalPremiacoes" value="#{financasBean.ganhoTotalPremiacoes}" styleClass="rowCollunmInputData" >
							<f:converter converterId="decimalConverter" />
						</h:outputText>
					</h:panelGroup>						
					
				</h:panelGrid>
						
			</fieldset>
			
			<fieldset style="margin-top: 10px;margin-bottom: 10px;">
				<legend>Extrato</legend>	
				<hr />
				<p:dataTable id="dataTableContrato"
						value="#{financasBean.extrato}" var="result"
						rowKey="#{result}" rows="10" paginator="true" 
						paginatorPosition="bottom" emptyMessage="Dados não encontrados">
						
					<p:column headerText="DESCRIÇÃO" sortBy="#{result.descricao}" width="60%" styleClass="colCenter" >
						<h:outputText value="#{result.descricao}" />
					</p:column>
	
					<p:column headerText="VALOR" sortBy="#{result.valorMovimentado}" width="20%" styleClass="colCenter" >
						<h:outputText value="R$ " />
						<h:outputText value="#{result.valorMovimentado}" >
							<f:converter converterId="decimalConverter" />
						</h:outputText>
					</p:column>
	
					<p:column headerText="DATA" sortBy="#{result.dataMovimentacao}" width="20%" styleClass="colCenter" > 
						<h:outputText value="#{result.dataMovimentacao}" >
							<f:convertDateTime pattern="dd/MM/yyyy HH:mm"/>
						</h:outputText>
					</p:column>
						
				</p:dataTable>
			</fieldset>
			
			<fieldset style="margin-top: 10px;margin-bottom: 10px;">
				<legend>Outras Ações</legend>	
				<hr />
				
				<h:panelGroup layout="block" styleClass="buttonForm" style="margin-top:10px;">
					<h:commandButton action="#{financasBean.adicionarPremiacao()}" value="Adicionar Premiação" />
				</h:panelGroup>

			</fieldset>			
			
		</h:form>
		
	</ui:define>
</ui:composition>